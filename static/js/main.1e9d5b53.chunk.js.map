{"version":3,"sources":["components/Modal/Modal.module.css","components/Button/Button.module.css","components/Gallery/Galerry.module.css","components/Modal/Modal.js","components/Button/Button.js","components/Gallery/Galerry.js","services/pexelsApi.js","App.js","index.js"],"names":["module","exports","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","console","log","props","onClose","handleBackdropClick","event","currentTarget","target","window","addEventListener","this","removeEventListener","createPortal","className","s","Modal__backdrop","onClick","Modal__content","children","Component","Button","allyProps","type","defaultProps","Gallery","state","queryValue","handleChange","value","setState","handleSubmit","preventDefault","getQuery","gallery","Searchbar","SearchForm","onSubmit","SearchForm_button","SearchForm_button_label","SearchForm_input","placeholder","name","onChange","ImageGallery","map","el","scr","src","tiny","alt","genId","q","p","a","pP","key","baseUrl","params","url","options","method","headers","Authorization","fetch","response","json","result","data","photos","getFetch","App","query","page","showModal","addContact","number","newContact","id","contacts","some","toLowerCase","alert","prevState","changeFilter","filter","getVisibleContacts","normalizedFilter","elem","includes","deleteContact","contactId","toggleModal","then","catch","err","prevProps","prev","aria-label","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1e9d5b53.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal__backdrop\":\"Modal_Modal__backdrop__1ixbw\",\"Modal__content\":\"Modal_Modal__content__2erN1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1eHUT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Galerry_Searchbar__1yVnW\",\"SearchForm\":\"Galerry_SearchForm__3YKci\",\"SearchForm_button\":\"Galerry_SearchForm_button__1VCmy\",\"SearchForm_button_label\":\"Galerry_SearchForm_button_label__2fo0M\",\"SearchForm_input\":\"Galerry_SearchForm_input__28y-W\",\"ImageGallery\":\"Galerry_ImageGallery__1DVlB\",\"ImageGalleryItem\":\"Galerry_ImageGalleryItem____4z7\",\"ImageGalleryItem_image\":\"Galerry_ImageGalleryItem_image__R6jLT\"};","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from \"./Modal.module.css\"\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n    componentDidMount() {\r\n        console.log('Modal componentDidMount');\r\n        window.addEventListener('keydown', this.handleKeyDown)\r\n    \r\n    }\r\n\r\n    componentWillUnmount() {\r\n        console.log('Modal componentWillUnmount');\r\n        window.removeEventListener('keydown', this.handleKeyDown);\r\n\r\n    }\r\n\r\n     handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      console.log('Нажали ESC, нужно закрыть модалку');\r\n\r\n      this.props.onClose();\r\n    }\r\n    };\r\n    \r\n    handleBackdropClick = event => {\r\n        // console.log('Кликнули в бекдроп');\r\n        // console.log('currentTarget: ', event.currentTarget);\r\n        // console.log('target: ', event.target);\r\n\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n    }\r\n    render() {\r\n        return createPortal(\r\n            <div className={s.Modal__backdrop} onClick={this.handleBackdropClick}>\r\n            <div className={s.Modal__content}>{this.props.children}</div>\r\n            </div>, modalRoot,\r\n            \r\n        )\r\n    }\r\n}\r\n\r\nexport default Modal;\r\n\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from \"./Button.module.css\"\r\n\r\nconst Button = ({ children, onClick, ...allyProps }) => (\r\n    <button type=\"button\" className={s.Button} onClick={onClick} {...allyProps}>\r\n    {children}\r\n  </button>\r\n);\r\n\r\nButton.defaultProps = {\r\n  onClick: () => null,\r\n  children: null,\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n  children: PropTypes.node,\r\n  'aria-label': PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Button;","import React, { Component } from \"react\";\r\nimport s from \"./Galerry.module.css\";\r\nimport { v4 as genId } from \"uuid\";\r\n\r\n\r\nclass Gallery extends Component\r\n{\r\n    state = {\r\n        queryValue: \"\",\r\n    };\r\n\r\nhandleChange = (e) => {\r\n    console.log(e.target.value)\r\n    this.setState({ queryValue: e.target.value })\r\n    }\r\n\r\nhandleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { getQuery } = this.props;\r\n    getQuery(this.state.queryValue)\r\n    this.state.queryValue = \"\";\r\n}\r\n    \r\n    render() {\r\n        const { gallery} = this.props;\r\n        const { handleChange, handleSubmit } = this;\r\n        const {  queryValue } = this.state;\r\n        return (\r\n        <>\r\n            <div> <header className={s.Searchbar}>\r\n     <form className={s.SearchForm} onSubmit={handleSubmit}>\r\n    <button type=\"submit\" className={s.SearchForm_button}>\r\n    <span className={s.SearchForm_button_label}>Search</span>\r\n    </button>\r\n\r\n    <input\r\n    className={s.SearchForm_input}\r\n      type=\"text\"\r\n    //   autocomplete=\"off\"\r\n    //   autofocus\r\n    placeholder=\"Search images and photos\"\r\n                            name=\"query\"\r\n                            onChange={handleChange}\r\n                            value={queryValue}\r\n    />\r\n  </form>\r\n            </header></div>\r\n   \r\n            \r\n    <ul className={s.ImageGallery}>\r\n                {gallery.map((el) => (\r\n                    <li key key={genId()} >\r\n                        <img scr={el.src.tiny} alt={el.alt}/>\r\n                    </li>\r\n   \r\n))}\r\n</ul>\r\n\r\n        </>\r\n    )\r\n    }\r\n}\r\n\r\nexport default Gallery","async function getFetch(q, p, pP = 12) {\r\n//   let key = \"21072746-8c3dd0d1e8e29ef8d58afec32\";\r\n    let key = `563492ad6f917000010000013bbd01457a39431887d74f69015c0d48`;\r\n  const baseUrl = `https://api.pexels.com/v1`;\r\n\r\n  // прописываем параметры запроса, согласно доков API\r\n  // ДОБАВЛЯЕМ ПАРАМЕТР ДЛЯ СТРАНИЦ\r\n  let params = `/search?query=${q}&per_page=${pP}&page=${p}`;\r\n\r\n  // сливаем встроку запроса перед отправкой\r\n  let url = baseUrl + params;\r\n\r\n  // создаем объект опций для запроса, по докам API, для передачи ключа\r\n  let options = {\r\n    method: \"GET\",\r\n    headers: {\r\n      Authorization: key,\r\n    },\r\n  };\r\n\r\n  // собственно запрос и обработка ответа на него\r\n  const response = await fetch(url, options);\r\n  const result = await response.json();\r\n  const data = result.photos;\r\n  return data;\r\n}\r\n\r\nexport default { getFetch };","import React, { Component } from \"react\";\n\nimport \"./App.css\";\n\nimport { v4 as genId } from \"uuid\";\n\nimport Modal from \"./components/Modal/Modal\";\nimport Button from \"./components/Button/Button\";\nimport Gallery from \"./components/Gallery/Galerry\";\nimport getGalleryItems from \"./services/pexelsApi\";\nconst { getFetch } = getGalleryItems;\n\n\nclass App extends Component {\n  state = {\n    query: \"moon\",\n    page: 1,\n    gallery: [],\n    showModal : false\n  }\n  \n\n   componentDidMount() {\n    const { query, page } = this.state;\n    getFetch(query, page)\n      .then((result) => {\n        console.log(result);\n        this.setState({ gallery: [...result] });\n      })\n      .catch((err) => {});\n  }\n\n   componentDidUpdate(prevProps, prevState) {\n    const { query, page } = this.state;\n    if (query !== prevState.query) {\n      getFetch(query, page)\n        .then((result) => {\n          console.log(result);\n          this.setState((prev) => ({ gallery: [...prev.gallery, ...result] }));\n        })\n        .catch((err) => {});\n    }\n  }\n  addContact = ({ name, number }) => {\n    const newContact = { id: genId, name, number }\n    const contacts = this.state.contacts\n    if (contacts.some(el => el.name.toLowerCase() === name.toLowerCase()))\n    { return (alert(`${name} is already in contacts`)) }\n    \n    this.setState(prevState => ({\n      contacts: [newContact, ...prevState.contacts]\n    }))\n    \n  }\n\n  changeFilter = e => {\n    this.setState({ filter: e.target.value })\n    \n  }\n  \n  getVisibleContacts = () => {\n    const {filter, contacts} = this.state\n    const normalizedFilter = filter.toLowerCase();\n\n    return contacts.filter((elem) =>\n    elem.name.toLowerCase().includes(normalizedFilter))\n\n  }\n\n  deleteContact = contactId  => {\n  this.setState(prevState => ({\n    contacts: prevState.contacts.filter(({ id }) => id !==contactId )\n  }))\n  \n  }\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n}\n  getQuery = (query) => {\n    this.setState({query})\n    \n  }\n  render() {\n    const { gallery, showModal } = this.state\n    const { getQuery } = this;\n  \n      return (\n        <div>\n          <button type= \"button\" onClick={this.toggleModal}>Открыть модалку</button>\n          {showModal && <Modal onClose = {this.toggleModal}>\n          <h1>привет это контент модалки</h1>\n          </Modal>}\n          <Button aria-label=\"Загрузить еще\">Load more</Button>\n          <h1 className=\"title\">Phonebook</h1>\n          <Gallery gallery={gallery} getQuery={getQuery }/>\n          {/* <ContactForm onAddContact={this.addContact} contacts={visibleContacts} />\n          <h2 className=\"title\">Contacts</h2>\n          <Filter filter={filter} changeFilter={this.changeFilter} />\n          <ContactList contacts={visibleContacts} onDeleteContact={this.deleteContact}/> */}\n        </div>\n    );\n  }\n}\n\n  \nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}